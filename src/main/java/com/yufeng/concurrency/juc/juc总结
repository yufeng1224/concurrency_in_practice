
并发容器模块

① 讲一讲 CopyOnWriteArrayList
   1. CopyOnWriteArrayList 是一个线程安全的, 并且是读写分离的动态数组类
   2. 在这个类的内部, 它维护了一个array数组变量, 并使用volatile关键字来保证可见性
      2-1 它在进行增删改操作时, 会通过 ReentrantLock 来进行加锁, 然后将原数组的内容复制一份, 接着对新数组进行操作,
          最后将array变量指向新的数组, 这也是它 CopyOnWrite 的含义
      2-2 那么还有一个读取操作是无锁进行

   3. 另外还需要注意的是, CopyOnWriteArrayList 只有写写是互斥的, 需要同步等待。而其它是不互斥的, 因此性能会得到很大的提升。
      所以它非常适合读多写少的场景中: 比如 白/黑名单, 商品类目每日更新
   4. 不过它也有缺陷: 比如不能保证数据的实时一致性, 还有就是复制数组时的内存占用问题


知识点延伸扩展 ———— 讲一讲 ArrayList
   1. ArrayList 是基于数组实现的一个动态数组, 它是非线程安全的
   2  它每次添加新元素时, 都会对容量进行检查, 扩容时则会增长为原来容量的1.5倍, 它适合查询、修改频繁的场景
   3. 那么使用 ArrayList 需要注意的是,  在迭代时它不能使用list进行增删操作, 否则会抛出 ConcurrentModificationException
      解决方案是可以使用 iterator 进行删除操作



------------------------------------------------------------------------------------------------------------------------